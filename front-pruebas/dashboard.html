<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="dashboard-container">
        <h2>Bienvenido al Dashboard</h2>

        <button id="getUsersButton">Obtener Todos los Usuarios</button>
        <button id="getUserButton">Obtener Usuario por Boleta</button>
        <button id="updateUserButton">Actualizar Usuario</button>
        <button id="deleteUserButton">Eliminar Usuario</button>
        <button id="createUserButton">Crear Usuario</button>
        <button id="checkAuthButton">Verificar Autenticación</button>
        <button id="uploadFileButton">Subir Archivo</button>
        <button id="uploadMultipleFilesButton">Subir Múltiples Archivos</button>
        <button id="listFilesButton">Ver estructura de archivos</button>
        <button id="logoutButton">Cerrar Sesión</button>

        <div id="getUserForm" style="display: none;">
            <h3>Obtener Usuario por Boleta</h3>
            <input type="number" id="userBoleta" placeholder="Boleta" required>
            <button id="submitGetUser">Obtener Usuario</button>
            <p id="getUserMessage"></p>
        </div>

        <form id="updateUserForm" style="display: none;">
            <h3>Actualizar Usuario</h3>
            <input type="number" id="updateBoleta" placeholder="Boleta" required>
            <input type="email" id="updateEmail" placeholder="Nuevo Email">
            <input type="text" id="updateNombre" placeholder="Nuevo Nombre">
            <input type="password" id="updatePassword" placeholder="Nueva Contraseña">
            <input type="number" id="updateRoleId" placeholder="ID de Rol (opcional)">
            <button id="submitUpdateUser">Actualizar Usuario</button>
            <p id="updateUserMessage"></p>
        </form>

        <form id="deleteUserForm" style="display: none;">
            <h3>Eliminar Usuario</h3>
            <input type="number" id="deleteBoleta" placeholder="Boleta" required>
            <button id="submitDeleteUser">Eliminar Usuario</button>
            <p id="deleteUserMessage"></p>
        </form>

        <form id="createUserForm" style="display: none;">
            <h3>Crear Nuevo Usuario</h3>
            <input type="text" id="newBoleta" placeholder="Boleta" required>
            <input type="email" id="newEmail" placeholder="Email" required>
            <input type="password" id="newPassword" placeholder="Contraseña" required>
            <input type="text" id="newNombre" placeholder="Nombre" required>
            <input type="number" id="newRoleId" placeholder="ID de Rol (opcional)">
            <button id="submitCreateUser">Crear Usuario</button>
            <p id="createUserMessage"></p>
        </form>

        <!-- Formulario para subir un solo archivo -->
        <form id="uploadFileForm" style="display: none;">
            <h3>Subir un Archivo</h3>
            <input type="file" id="singleFile" required> <!-- Campo para seleccionar un archivo -->
            <input type="text" id="singleFilePath" placeholder="Ruta (opcional)">
            <button type="button" id="submitUploadFile">Subir Archivo</button>
            <p id="uploadFileMessage"></p>

            <!-- Barra de progreso para la carga de un archivo -->
            <div id="progressContainer" style="display:none;">
                <progress id="progressBar" value="0" max="100"></progress>
                <span id="progressPercent">0%</span>
            </div>
        </form>

        <!-- Formulario para subir múltiples archivos -->
        <form id="uploadMultipleFilesForm" style="display: none;">
            <h3>Subir Múltiples Archivos</h3>
            <input type="file" id="multipleFiles" multiple required> <!-- Soporte para múltiples archivos -->
            <input type="text" id="multipleFilesPath" placeholder="Ruta (opcional)">
            <button type="button" id="submitUploadMultipleFiles">Subir Archivos</button>
            <p id="uploadMultipleFilesMessage"></p>

            <!-- Barra de progreso para la carga de múltiples archivos -->
            <div id="progressContainerMultiple" style="display:none;">
                <progress id="progressBarMultiple" value="0" max="100"></progress>
                <span id="progressPercentMultiple">0%</span>
            </div>
        </form>
        <!-- Contenedor para mostrar la estructura de archivos -->
        <div id="fileStructureContainer">
            <pre id="fileTree"></pre>
        </div>

        <!-- Formulario para descargar un archivo -->
        <div id="downloadFileForm" style="display: none;">
            <h3>Descargar un Archivo</h3>
            <input type="text" id="fileToDownload" placeholder="Ruta del archivo a descargar" required>
            <button type="button" id="submitDownloadFile">Descargar Archivo</button>
            <p id="downloadFileMessage"></p>
        </div>

        <!-- Formulario para descargar una carpeta como ZIP -->
        <div id="downloadFolderForm" style="display: none;">
            <h3>Descargar Carpeta como ZIP</h3>
            <input type="text" id="folderToDownload" placeholder="Ruta de la carpeta a descargar" required>
            <button type="button" id="submitDownloadFolder">Descargar Carpeta</button>
            <p id="downloadFolderMessage"></p>
        </div>
        
        <div id="loadingSpinner" style="display: none;">
            <p>Procesando la descarga... Esto puede tardar unos momentos.</p>
            <div class="spinner"></div>
        </div>



        <p id="responseMessage"></p>
        <p id="authMessage"></p> <!-- Para mostrar información de autenticación -->
    </div>
    <script src="dashboard.js"></script>
</body>

</html>